(this.webpackJsonpcontacts=this.webpackJsonpcontacts||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(7),s=n.n(a),r=n(8),i=n(9),o=n(13),j=n(11),l=n(0);function u(){return Object(l.jsx)("h6",{className:"app-name",children:"Expense Tracker"})}var d=n(3),b=n(12),O=n(2),x=function(e,t){switch(t.type){case"GET_TRANSACTION":return Object(O.a)(Object(O.a)({},e),{},{transactions:t.payload});case"DELETE_TRANSACTION":return Object(O.a)(Object(O.a)({},e),{},{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});case"ADD_TRANSACTION":return Object(O.a)(Object(O.a)({},e),{},{transactions:[t.payload].concat(Object(b.a)(e.transactions))});default:return e}},m={transactions:[],STORAGE_KEY:"expense_tracker"},h=Object(c.createContext)(m),p=function(e){var t=e.children,n=Object(c.useReducer)(x,m),a=Object(d.a)(n,2),s=a[0],r=a[1];return Object(l.jsx)(h.Provider,{value:{transactions:s.transactions,STORAGE_KEY:s.STORAGE_KEY,deleteTransaction:function(e){r({type:"DELETE_TRANSACTION",payload:e})},addTransaction:function(e){r({type:"ADD_TRANSACTION",payload:e})},getTransactions:function(){var e=JSON.parse(localStorage.getItem(m.STORAGE_KEY));r({type:"GET_TRANSACTION",payload:e})}},children:t})};function f(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function v(){var e=Object(c.useContext)(h),t=e.transactions,n=e.getTransactions;e.STORAGE_KEY;Object(c.useEffect)((function(){n()}),[]);var a=0;return t.forEach((function(e){return a+=e.amount})),Object(l.jsxs)("div",{className:"balance",children:[Object(l.jsx)("div",{className:"caption",children:"your balance"}),Object(l.jsx)("div",{className:"amount",children:Object(l.jsxs)("span",{className:a<0?"red":a>0?"green":null,children:[a<0?"-":null,"$",f(Math.abs(a).toFixed(2))]})})]})}function N(){var e=Object(c.useContext)(h).transactions.map((function(e){return e.amount})),t=e.filter((function(e){return e>=0})).reduce((function(e,t){return e+t}),0).toFixed(2),n=e.filter((function(e){return e<=0})).reduce((function(e,t){return e+t}),0);return Object(l.jsxs)("div",{className:"card income-expense",children:[Object(l.jsxs)("div",{className:"income",children:[Object(l.jsx)("div",{children:"income"}),Object(l.jsxs)("div",{children:["$",f(t)]})]}),Object(l.jsxs)("div",{className:"expense",children:[Object(l.jsx)("div",{children:"expense"}),Object(l.jsxs)("div",{children:["$",f(Math.abs(n).toFixed(2))]})]})]})}function T(e){var t=e.transaction,n=t.amount<0?"rgb(151, 45, 45)":null,a=t.amount<0?"-":"+",s=Object(c.useContext)(h).deleteTransaction;return Object(l.jsxs)("div",{style:{borderRightColor:n},className:"card transaction",children:[Object(l.jsx)("span",{className:"desc",children:t.text}),Object(l.jsxs)("span",{className:"amount",children:[a,"$",f(Math.abs(t.amount).toFixed(2))]}),Object(l.jsx)("button",{onClick:function(){return s(t.id)},children:"x"})]})}function E(){var e=Object(c.useContext)(h),t=e.transactions;e.getTransactions;return Object(l.jsxs)("div",{className:"history",children:[Object(l.jsx)("h5",{children:"History"}),0==t.length?Object(l.jsx)("div",{className:"no-transaction",children:Object(l.jsx)("em",{children:"No transaction record yet."})}):t.map((function(e,t){return Object(l.jsx)(T,{transaction:e},t)}))]})}var g=n(10),y=n.n(g);function A(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(0),r=Object(d.a)(s,2),i=r[0],o=r[1],j=Object(c.useState)("income"),u=Object(d.a)(j,2),b=u[0],O=u[1],x=Object(c.useContext)(h),m=x.transactions,p=x.addTransaction,f=x.STORAGE_KEY,v=function(e){O(e.target.value)};return Object(c.useEffect)((function(){localStorage.setItem(f,JSON.stringify(m))}),[m]),Object(l.jsxs)("div",{className:"add-new",children:[Object(l.jsx)("h5",{children:"Add new transaction"}),Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!=n&&0!=i){var t="income"===b?parseInt(i):-parseInt(i),c={id:y()(),text:n,amount:t};p(c),a(""),o(0)}},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"",children:"Text"}),Object(l.jsx)("input",{type:"text",value:n,onChange:function(e){return a(e.target.value)},placeholder:"Enter text..."})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"",children:"Amount"}),Object(l.jsx)("input",{type:"number",min:"0",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Enter amount..."})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("input",{type:"radio",checked:"income"===b,name:"amountFor",value:"income",onChange:v,id:"income"}),Object(l.jsx)("label",{htmlFor:"income",children:"Income"}),Object(l.jsx)("input",{type:"radio",checked:"expense"===b,name:"amountFor",value:"expense",onChange:v,id:"expense"}),Object(l.jsx)("label",{htmlFor:"expense",children:"Expense"})]}),Object(l.jsx)("input",{type:"submit",value:"Add Transaction"})]})})]})}n(23);var S=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(l.jsx)(p,{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col mx-auto col-lg-4 col-md-5 col-sm-11",children:[Object(l.jsx)(u,{}),Object(l.jsx)(v,{}),Object(l.jsx)(N,{}),Object(l.jsx)(E,{}),Object(l.jsx)(A,{})]})})})})}}]),n}(c.Component);s.a.render(Object(l.jsx)(S,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.8a6083fc.chunk.js.map